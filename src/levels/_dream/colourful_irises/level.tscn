[gd_scene load_steps=46 format=4 uid="uid://b5h2bldsnmdsb"]

[ext_resource type="Script" uid="uid://b1ofr4umso5jf" path="res://src/systems/scenes/game/game_scene.gd" id="1_vndl4"]
[ext_resource type="Shader" uid="uid://cqc638thw4csm" path="res://src/shaders/masks/multiply.gdshader" id="3_4yua0"]
[ext_resource type="AudioStream" uid="uid://df1213omvvset" path="res://src/audio/bgm/luff_yta_eye.ogg" id="3_qi1ih"]
[ext_resource type="Script" uid="uid://bptlrkdn0tpua" path="res://src/systems/components/overrides/wiggle.gd" id="5_bsomg"]
[ext_resource type="PackedScene" uid="uid://c8bnpo28a373g" path="res://src/systems/camera/camera.tscn" id="5_jx2yo"]
[ext_resource type="Shader" uid="uid://b4qcyrwpo36fo" path="res://src/shaders/panorama/distortion_texture.gdshader" id="5_nqkx8"]
[ext_resource type="PackedScene" uid="uid://ryhx8o46er7i" path="res://src/player/2D/madotsuki/madotsuki.tscn" id="5_u851k"]
[ext_resource type="Script" uid="uid://jf85vmwx4pj" path="res://src/player/2D/scripts/pl_variables.gd" id="6_3p5oo"]
[ext_resource type="Texture2D" uid="uid://cm6iimafcot25" path="res://src/images/panorama/face.png" id="6_hdfwf"]
[ext_resource type="TileSet" uid="uid://b0kyfgy4bib24" path="res://src/levels/__ignore/tile_set/_common_objs.tres" id="7_4yua0"]
[ext_resource type="Script" uid="uid://bxh774473av7t" path="res://src/systems/interaction/base_interactable.gd" id="7_gg2wt"]
[ext_resource type="Script" uid="uid://bqs7mvieiy4cw" path="res://src/levels/__ignore/tilemap_collision_setup.gd" id="8_bwsrp"]
[ext_resource type="TileSet" uid="uid://b7vdcqrtnh77e" path="res://src/levels/__ignore/tile_set/world_tile_sets/colourful_irises.tres" id="9_n1xg1"]
[ext_resource type="Script" uid="uid://ctqw6a8qsvnv4" path="res://src/systems/sequencing/event/audio/play_bgm.gd" id="9_q6f27"]
[ext_resource type="Script" uid="uid://ofyfa3d6ql28" path="res://src/systems/components/independent/spawn_point.gd" id="12_4yua0"]
[ext_resource type="TileSet" uid="uid://dyssxbp7xitvm" path="res://src/levels/__ignore/tile_set/_footstep_material.tres" id="13_3vpbd"]
[ext_resource type="Script" uid="uid://f4sb25g3gpic" path="res://src/systems/sequencing/sequence/game/sequence_region.gd" id="13_bwsrp"]
[ext_resource type="Script" uid="uid://dxx2gbg56i1ts" path="res://src/systems/sequencing/event/scene/apply_panorama.gd" id="13_xm48m"]
[ext_resource type="Script" uid="uid://pksfkcvcsgx7" path="res://src/levels/__ignore/tilemap_footstep_setup.gd" id="14_8vxfw"]
[ext_resource type="Script" uid="uid://c0ymap76lrhgr" path="res://src/systems/sequencing/event/scene/travel_to_scene.gd" id="15_s5ewf"]
[ext_resource type="Script" uid="uid://dkbhr01xbyr60" path="res://src/systems/components/independent/scene_traversal.gd" id="16_v680p"]
[ext_resource type="PackedScene" uid="uid://36fsvg2ttglw" path="res://src/entities/effects/_template_effect_collect.tscn" id="17_bwsrp"]
[ext_resource type="Script" uid="uid://d4mfbplpq5p5d" path="res://src/systems/sequencing/event/game/screen_transition.gd" id="18_3pj81"]
[ext_resource type="Script" uid="uid://b2je1meyfnp7s" path="res://src/systems/sequencing/grouped_event_interface.gd" id="18_chr53"]
[ext_resource type="Resource" uid="uid://bi65brqjolfb" path="res://src/player/2D/madotsuki/effects/medamude/medamaude.tres" id="18_epmdn"]
[ext_resource type="Script" uid="uid://dspsbq33tl0wa" path="res://src/systems/sequencing/event/game/invoke_game_event.gd" id="18_y6rev"]
[ext_resource type="Shader" uid="uid://dpwm2idnwpvaf" path="res://src/shaders/transition/tr_fade.gdshader" id="19_r2b8w"]
[ext_resource type="Script" uid="uid://c1od80bn28h0l" path="res://src/systems/sequencing/sequence_interface.gd" id="20_5siph"]
[ext_resource type="Script" uid="uid://vk574kc3l7av" path="res://src/systems/sequencing/event/audio/play_sound.gd" id="20_qvbou"]
[ext_resource type="AudioStream" uid="uid://cdmrrvgctc6n8" path="res://src/audio/se/se_phase.wav" id="21_y6rev"]
[ext_resource type="Script" uid="uid://d1ojbn5jneejv" path="res://src/systems/sequencing/event/node/set_property.gd" id="22_r2b8w"]
[ext_resource type="Script" uid="uid://bueabxwtsde8h" path="res://src/systems/sequencing/event/message/open_message.gd" id="26_uoh1u"]
[ext_resource type="Script" uid="uid://b6ilkvabn22lp" path="res://src/systems/sequencing/sequence/conditional/if_expression.gd" id="32_l7mvp"]
[ext_resource type="Script" uid="uid://cvb48ow8p04j8" path="res://src/systems/sequencing/event/call_external_event.gd" id="33_k1x66"]
[ext_resource type="Script" uid="uid://0li2ud4tbkf5" path="res://src/systems/scenes/custom_properties.gd" id="34_k1x66"]
[ext_resource type="Script" uid="uid://bdm7kig80eqqk" path="res://src/systems/save/node/save_properties.gd" id="35_0chjm"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bsomg"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rlt31"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bwsrp"]
shader = ExtResource("3_4yua0")
shader_parameter/overlay_modulate = Color(0, 0, 0, 1)
shader_parameter/transparency = 0.0
shader_parameter/optional_gradient = false

[sub_resource type="Resource" id="Resource_3p5oo"]
resource_local_to_scene = true
resource_name = "pl_variables"
script = ExtResource("6_3p5oo")
metadata/_custom_type_script = "uid://jf85vmwx4pj"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3vpbd"]
size = Vector2(48, 16)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_uoh1u"]
shader = ExtResource("19_r2b8w")
shader_parameter/overlay_modulate = Color(0, 0, 0, 1)
shader_parameter/transparency = 0.0
shader_parameter/optional_gradient = false
shader_parameter/progress = 0.0
shader_parameter/colour = Color(0, 0, 0, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_e2px4"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_yqgqu"]
noise = SubResource("FastNoiseLite_e2px4")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ndxk6"]
shader = ExtResource("5_nqkx8")
shader_parameter/overlay_modulate = Color(0, 0, 0, 1)
shader_parameter/transparency = 0.0
shader_parameter/optional_gradient = false
shader_parameter/dirX = 1.49012e-08
shader_parameter/dirY = 1.0
shader_parameter/scroll_speed = 0.055
shader_parameter/initial_uv_offset = Vector2(0, 0)
shader_parameter/snapped_val = 0.0016
shader_parameter/offset_strength = 0.3
shader_parameter/offset_strength_influence = Vector2(1, 1)
shader_parameter/texture_scroll = false
shader_parameter/noise_strength = 1.0
shader_parameter/noise_fwd = SubResource("NoiseTexture2D_yqgqu")

[node name="colorful_irises" type="Node" node_paths=PackedStringArray("seq_initial", "seq_free")]
script = ExtResource("1_vndl4")
seq_initial = NodePath("on_initial")
seq_free = NodePath("on_free")
load_transition = SubResource("ShaderMaterial_bsomg")
unload_transition = SubResource("ShaderMaterial_rlt31")

[node name="camera" parent="." node_paths=PackedStringArray("initial_target") instance=ExtResource("5_jx2yo")]
position = Vector2(80, -16)
initial_target = NodePath("../world/mado")

[node name="overlay_3" parent="camera/marker/camera" index="2"]
material = SubResource("ShaderMaterial_bwsrp")
color = Color(0.967774, 0.682599, 0.715787, 1)

[node name="Wiggle" type="Node" parent="camera/marker/camera/components_receiver" index="0"]
script = ExtResource("5_bsomg")
wig_x_strn = 8.0
wig_y_strn = 8.0
metadata/_custom_type_script = "uid://bptlrkdn0tpua"

[node name="world" type="Node2D" parent="."]
y_sort_enabled = true
position = Vector2(72, -48)

[node name="mado" parent="world" instance=ExtResource("5_u851k")]
position = Vector2(8, 32)
values = SubResource("Resource_3p5oo")

[node name="blood_tile" type="TileMapLayer" parent="world"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAD+/wAAAAABAAEAABD+/wEAAAABAAEAABD//wEAAAAAAAEAAAD//wIAAAAAAAEAAAD//wAAAAAAAAEAAAD/////AAABAAEAAGD+////AAABAAMAABD//wMAAAABAAMAABD//wQAAAABAAMAADD+/wIAAAABAAAAADATAAQAAAAAAAQAAFAUAAQAAAAAAAMAAHAVAAQAAAAAAAEAAAAWAAMAAAABAAMAABAWAAQAAAAAAAEAAAAXAAMAAAAAAAEAAAAXAAQAAAABAAMAACAAAAsAAAAAAAQAADAAAAwAAAAAAAMAADAAAA0AAAAAAAIAADAAAA4AAAAAAAEAADAAAA8AAAAAAAMAAAAAABAAAAAAAAQAAAAAABEAAAAAAAQAACAAABIAAAAAAAMAACAAABMAAAAAAAIAACAAABQAAAAAAAEAACAAABUAAAAAAAEAACAAABYAAAAAAAEAAAAAABcAAAAAAAEAAAAAABgAAAAAAAIAAAAAABoAAAAAAAQAAADn/x8AAAABAAAAABDo/x4AAAABAAAAABDp/x0AAAAAAAIAADDp/yAAAAABAAAAACDq/x0AAAABAAEAAADq/x8AAAABAAAAACDq/yUAAAAAAAEAAADr/yYAAAABAAMAACAAABkAAAAAAAMAAAAVAPD/AAAAAAEAAFAVAPH/AAAAAAEAAAAWAPD/AAAAAAEAAAAWAPH/AAAAAAEAAAAXAO//AAABAAEAAGAXAPD/AAAAAAEAAAAXAPH/AAAAAAEAAAAYAO7/AAABAAEAAGAYAO//AAAAAAEAAAAYAPD/AAAAAAEAAAAYAPH/AAAAAAEAAAAZAO7/AAABAAEAAGAZAO//AAAAAAEAAAAZAPD/AAAAAAEAAAAaAO7/AAABAAEAAGAaAO//AAAAAAEAAAAaAPD/AAAAAAEAAAAbAO7/AAABAAEAAGAbAO//AAAAAAEAAAAbAPD/AAAAAAEAAAAcAO//AAAAAAEAAAAdAO//AAAAAAEAAAAeAO//AAAAAAIAAGATAPH/AAAAAAIAAFAUAPH/AAAAAAEAAFAXAPL/AAAAAAEAAAAXAPP/AAAAAAEAAAAXAPT/AAABAAEAAEAYAPL/AAAAAAEAAAAZAPH/AAAAAAEAAAAZAPL/AAABAAAAACAaAPH/AAAAAAEAAAAbAPH/AAABAAMAACAcAPD/AAAAAAEAAAAdAPD/AAABAAMAACASAPH/AAAAAAMAAFARAPH/AAAAAAQAAFAUAPD/AAABAAMAABAWAO//AAABAAMAABAYAAMAAAABAAMAACAYAAIAAAAAAAEAAAAYAAEAAAAAAAEAAAAXAAIAAAABAAMAABAYAAAAAAAAAAIAACAYAP//AAAAAAMAACAYAP7/AAAAAAQAACAZAAAAAAABAAAAAAAgAO//AAAAAAQAAGAfAO//AAAAAAMAAGAcAO7/AAABAAAAAAAWAPL/AAAAAAEAAAAWAPP/AAABAAEAABAWAPT/AAABAAEAABAWAPX/AAABAAEAABAYAPP/AAABAAMAACAVAPL/AAABAAMAADDn/yAAAAABAAEAABDn/yEAAAABAAMAADDo/x8AAAAAAAEAAADo/yAAAAAAAAEAAADo/yEAAAAAAAEAAADp/x4AAAAAAAEAAADp/x8AAAAAAAEAAADp/yEAAAABAAEAAGDq/x4AAAABAAEAAADq/yEAAAABAAAAAADq/yIAAAAAAAEAAADq/yMAAAAAAAEAAADq/yQAAAAAAAEAAADr/yIAAAABAAMAAADr/yMAAAABAAEAAADr/yQAAAABAAEAAADr/yUAAAABAAEAAADq/yYAAAAAAAIAAAAZAAIAAAABAAEAAAAZAAEAAAABAAEAAAAjACQAAAAAAAQAAHAkACQAAAAAAAMAAHAlACQAAAAAAAIAAHAmACMAAAABAAMAABAmACQAAAAAAAEAAAAnACIAAAABAAAAABAnACMAAAABAAEAAAAnACQAAAABAAEAAAAnACUAAAABAAMAADAoACEAAAABAAAAAGAoACIAAAABAAMAACAoACUAAAABAAMAAAAoACYAAAABAAAAAEApACEAAAAAAAEAAAApACYAAAAAAAEAAAAqACEAAAAAAAEAAAAqACMAAAABAAMAABAqACQAAAABAAMAADAqACYAAAAAAAEAAADg/yQAAAAAAAQAAGDq/ycAAAAAAAMAAADq/ygAAAAAAAQAAADp/yIAAAABAAMAADDp/xwAAAAAAAMAADDp/xsAAAAAAAQAADDq/xwAAAABAAIAACDq/xsAAAABAAQAACABAAEAAAAAAAEAAAABAAIAAAAAAAEAAAABAAMAAAABAAMAACACAAEAAAABAAEAAAACAAIAAAABAAMAACAAAAAAAAAAAAEAAAAAAAEAAAAAAAEAAAAAAAIAAAAAAAEAAAAAAP//AAABAAEAAGAAAAMAAAAAAAEAAAAAAAQAAAAAAAEAAAAAAAYAAAAAAAMAAAAAAAcAAAAAAAQAAAAAAAUAAAAAAAIAAAABAP//AAABAAEAAGABAAAAAAAAAAEAAAACAP//AAABAAMAAAACAAAAAAABAAEAAAAlACoAAAAAAAQAAHAmACoAAAAAAAMAAHAnACoAAAAAAAIAAHAoACkAAAABAAMAABAoACoAAAAAAAEAAAApACgAAAABAAAAABApACkAAAABAAEAAAApACoAAAABAAEAAAApACsAAAABAAMAADAqACcAAAABAAAAAGAqACgAAAABAAMAACAqACsAAAABAAMAAAAqACwAAAABAAAAAEAsACEAAAAAAAEAABAsACYAAAAAAAEAAAAsACgAAAABAAMAADAsACsAAAABAAMAABAtACEAAAAAAAEAABAtACYAAAAAAAEAAAAtACkAAAABAAEAABAtACoAAAABAAEAABAuACIAAAABAAMAADAuACUAAAABAAMAABAuACoAAAAAAAEAABAvACMAAAABAAEAABAvACQAAAABAAEAABAvACoAAAAAAAIAAGAwACQAAAAAAAEAABAwACoAAAAAAAMAAGAxACQAAAAAAAIAAGAyACQAAAAAAAMAAGAzACQAAAAAAAQAAGA0ACQAAAAAAAQAAHA1ACQAAAAAAAMAAHA2ACQAAAAAAAIAAHA3ACMAAAABAAMAABA3ACQAAAAAAAEAAAAsACMAAAABAAMAAAAsACQAAAABAAMAACAsACcAAAABAAAAAHAsACwAAAABAAAAAFAtACgAAAABAAAAAAAtACsAAAABAAAAACAuACEAAAABAAAAAHAuACYAAAABAAAAAFAuACkAAAABAAMAAAAvACIAAAABAAAAAAAvACUAAAABAAAAACAwACMAAAABAAMAAAAxACoAAAAAAAQAAGArACMAAAAAAAEAAAArACQAAAAAAAEAAAArACEAAAAAAAEAAAArACYAAAAAAAEAAAArACcAAAABAAEAAGArACwAAAABAAEAAEAlAB4AAAAAAAQAAHAmAB4AAAAAAAMAAHAnAB4AAAAAAAIAAHAoAB0AAAABAAMAABAoAB4AAAAAAAEAAAApABwAAAABAAAAABApAB0AAAABAAEAAAApAB4AAAABAAEAAAApAB8AAAABAAMAADAqABsAAAABAAAAAGAqABwAAAABAAMAACAqAB8AAAABAAMAAAAqACAAAAABAAAAAEArABsAAAABAAEAAGArACAAAAABAAEAAEAsABsAAAABAAAAAHAsABwAAAABAAMAADAsAB8AAAABAAMAABAsACAAAAABAAAAAFAtABwAAAABAAAAAAAtAB0AAAABAAEAABAtAB4AAAABAAEAABAtAB8AAAABAAAAACAuAB0AAAABAAMAAAAuAB4AAAAAAAEAABAvAB4AAAAAAAIAAGAwAB4AAAAAAAMAAGAxAB4AAAAAAAQAAGA4ACIAAAABAAAAABA4ACMAAAABAAEAAAA4ACQAAAABAAEAAAA4ACUAAAABAAMAADA5ACEAAAABAAAAAGA5ACIAAAABAAMAACA5ACUAAAABAAMAAAA5ACYAAAABAAAAAEA6ACEAAAABAAEAAGA6ACYAAAABAAEAAEA7ACEAAAABAAAAAHA7ACIAAAABAAMAADA7ACUAAAABAAMAABA7ACYAAAABAAAAAFA8ACIAAAABAAAAAAA8ACMAAAABAAEAABA8ACQAAAABAAEAABA8ACUAAAABAAAAACA9ACMAAAABAAMAAAA9ACQAAAAAAAEAABA+ACQAAAAAAAIAAGA/ACQAAAAAAAMAAGBAACQAAAAAAAQAAGAWACQAAAAAAAQAAHAXACQAAAAAAAMAAHAYACQAAAAAAAIAAHAZACMAAAABAAMAABAZACQAAAAAAAEAAAAaACIAAAABAAAAABAaACMAAAABAAEAAAAaACQAAAABAAEAAAAaACUAAAABAAMAADAbACEAAAABAAAAAGAbACIAAAABAAMAACAbACUAAAABAAMAAAAbACYAAAABAAAAAEAcACEAAAABAAEAAGAcACYAAAABAAEAAEAdACEAAAABAAAAAHAdACIAAAABAAMAADAdACUAAAABAAMAABAdACYAAAABAAAAAFAeACIAAAABAAAAAAAeACMAAAABAAEAABAeACQAAAABAAEAABAeACUAAAABAAAAACAfACMAAAABAAMAAAAfACQAAAAAAAEAABAgACQAAAAAAAIAAGAhACQAAAAAAAMAAGAiACQAAAAAAAQAAGARABoAAAABAAAAADASABoAAAAAAAEAAAASABsAAAABAAAAADATABsAAAAAAAEAAAATABoAAAABAAAAAAATABwAAAAAAAIAAAATAB0AAAAAAAMAAAATAB4AAAAAAAQAAAARABkAAAABAAQAACDp/wsAAAAAAAQAAFDq/wsAAAAAAAMAAFDr/wsAAAAAAAIAAFDs/woAAAABAAMAABDs/wsAAAABAAAAACDt/woAAAAAAAEAAFDt/wwAAAABAAMAADDu/wkAAAABAAMAABDu/woAAAAAAAEAAADu/wwAAAAAAAEAAADu/w0AAAAAAAEAAADu/w4AAAAAAAEAAADu/w8AAAAAAAEAAADv/wkAAAABAAEAAGDv/woAAAABAAAAACDv/wwAAAABAAAAAADv/w0AAAAAAAEAAADv/w4AAAAAAAIAAADw/wgAAAABAAAAABDw/wkAAAABAAAAACDw/w0AAAABAAMAACDx/wgAAAABAAEAAGDy/wgAAAABAAEAAGDz/wgAAAABAAEAAGD0/wgAAAABAAAAAAD2/wkAAAAAAAIAAHD3/wkAAAAAAAEAAHDv/w8AAAAAAAMAAADv/xAAAAAAAAQAAADu/xAAAAAAAAIAAADu/xEAAAAAAAMAAADu/xIAAAAAAAQAAAD5/wkAAAAAAAQAAGD4/wkAAAAAAAMAAGD1/wkAAAAAAAMAAHD0/wkAAAAAAAQAAHA=")
tile_set = ExtResource("9_n1xg1")

[node name="eye_tiles" type="TileMapLayer" parent="world"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAADAP//AAACAAcAAAAEAAAAAAAEAAYAAAD7/wMAAAACAAcAAAD8/wQAAAAEAAYAABD4//z/AQAAAAAAABD6//3/AAACAAcAABAYAAYAAAACAAcAAAAaAAUAAQAAAAAAABDy/xcAAAAHAAYAAAD0/xkAAAACAAcAABAkABcAAAAEAAYAABAnABMAAAAHAAYAAAAoABcAAAACAAcAAAAnABYAAAAEAAYAAAAoABoAAAACAAcAABAZAO7/AAACAAcAABAbAO//AAAHAAYAAAAXAO//AAAEAAYAAAAVAPH/AAAHAAYAAAAXAPT/AAAEAAYAABAaAPT/AAACAAcAABAPAO7/AQAAAAAAABAQAPD/AAACAAcAAAD7/+//AAAEAAYAAAAAAPD/AAACAAcAAAACAPH/AAACAAcAAADy//P/AAAEAAYAAAAAAO3/AAACAAcAABAHABkAAAACAAcAABAJABsAAAAHAAYAAAALABgAAAACAAcAAAAMABkAAAACAAcAAADx/ycAAAACAAcAABD1/yMAAAAEAAYAAAD3/yUAAQAAAAAAABANACUAAAACAAcAAAAWACYAAAACAAcAAAA0AAIAAAACAAcAABAyAAUAAAAEAAYAABAyAP7/AAAEAAYAAAAzAP//AAAEAAYAAAApAPX/AAACAAcAAAA0ABAAAAACAAcAABDl/wUAAAAHAAYAAADk/wcAAQAAAAAAABDj////AAACAAcAAADi/wAAAAACAAcAAADg/w8AAAACAAcAAADj/xEAAAACAAcAAADi/xIAAAAEAAYAAADe/xIAAAAEAAYAABDj/wwAAAACAAcAABDd//n/AQAAAAAAABDg/yYAAQAAAAAAABDi/x4AAQAAAAAAABDk/yIAAAAHAAYAAAAAAAAAAAACAAAAAAAmACMAAAAEAAYAABAvACMAAAAEAAYAAAAmACQAAAACAAcAABAnACIAAAAHAAYAABAoACEAAAAEAAYAABApACAAAAACAAcAABAsACAAAAACAAcAAAAtACEAAAAEAAYAAAAuACIAAAAHAAYAAAAuACUAAAAEAAYAAAAvACQAAAACAAcAAAAnACUAAAAEAAYAABAtACYAAAACAAcAAAAoACYAAAACAAcAABArAB8AAAAGAAEAAAArACAAAAAGAAIAAAArACEAAAAGAAMAAAArACIAAAAGAAQAAAArACMAAAAGAAUAAAA=")
tile_set = ExtResource("9_n1xg1")

[node name="collision" type="TileMapLayer" parent="world"]
y_sort_enabled = true
tile_set = ExtResource("7_4yua0")
script = ExtResource("8_bwsrp")

[node name="material_blood" type="TileMapLayer" parent="world"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AADs/wsAAAAAAAEAAADr/wsAAAAAAAEAAADq/wsAAAAAAAEAAADp/wsAAAAAAAEAAADs/woAAAAAAAEAAADt/woAAAAAAAEAAADu/woAAAAAAAEAAADv/woAAAAAAAEAAADv/wkAAAAAAAEAAADu/wkAAAAAAAEAAADw/wkAAAAAAAEAAADw/wgAAAAAAAEAAADx/wgAAAAAAAEAAADy/wgAAAAAAAEAAADz/wgAAAAAAAEAAAD0/wgAAAAAAAEAAAD0/wkAAAAAAAEAAAD1/wkAAAAAAAEAAAD2/wkAAAAAAAEAAAD3/wkAAAAAAAEAAAD4/wkAAAAAAAEAAAD5/wkAAAAAAAEAAADv/wwAAAAAAAEAAADu/wwAAAAAAAEAAADt/wwAAAAAAAEAAADu/w0AAAAAAAEAAADv/w0AAAAAAAEAAADv/w4AAAAAAAEAAADv/w8AAAAAAAEAAADv/xAAAAAAAAEAAADu/xIAAAAAAAEAAADu/xEAAAAAAAEAAADu/xAAAAAAAAEAAADu/w8AAAAAAAEAAADu/w4AAAAAAAEAAADw/w0AAAAAAAEAAAAAAAwAAAAAAAEAAAAAAA0AAAAAAAEAAAAAAA4AAAAAAAEAAAAAAA8AAAAAAAEAAAAAABAAAAAAAAEAAAAAABEAAAAAAAEAAAAAABIAAAAAAAEAAAAAABMAAAAAAAEAAAAAABQAAAAAAAEAAAAAABUAAAAAAAEAAAAAABYAAAAAAAEAAAAAABcAAAAAAAEAAAAAABgAAAAAAAEAAAAAABkAAAAAAAEAAAAAABoAAAAAAAEAAADp/xwAAAAAAAEAAADp/x0AAAAAAAEAAADp/x4AAAAAAAEAAADq/x4AAAAAAAEAAADq/xwAAAAAAAEAAADq/xsAAAAAAAEAAADq/x0AAAAAAAEAAADp/xsAAAAAAAEAAADq/x8AAAAAAAEAAADp/x8AAAAAAAEAAADo/x8AAAAAAAEAAADo/yAAAAAAAAEAAADn/yAAAAAAAAEAAADp/yAAAAAAAAEAAADo/x4AAAAAAAEAAADn/x8AAAAAAAEAAADn/yEAAAAAAAEAAADo/yEAAAAAAAEAAADp/yIAAAAAAAEAAADq/yIAAAAAAAEAAADr/yIAAAAAAAEAAADq/yEAAAAAAAEAAADp/yEAAAAAAAEAAADr/yMAAAAAAAEAAADr/yQAAAAAAAEAAADr/yUAAAAAAAEAAADr/yYAAAAAAAEAAADq/yUAAAAAAAEAAADq/yQAAAAAAAEAAADq/yMAAAAAAAEAAADq/yYAAAAAAAEAAADq/ycAAAAAAAEAAADq/ygAAAAAAAEAAAARABkAAAAAAAEAAAARABoAAAAAAAEAAAASABoAAAAAAAEAAAASABsAAAAAAAEAAAATABsAAAAAAAEAAAATABoAAAAAAAEAAAATABwAAAAAAAEAAAATAB0AAAAAAAEAAAATAB4AAAAAAAEAAAAiACQAAAAAAAEAAAAhACQAAAAAAAEAAAAgACQAAAAAAAEAAAAfACQAAAAAAAEAAAAfACMAAAAAAAEAAAAeACMAAAAAAAEAAAAeACQAAAAAAAEAAAAeACUAAAAAAAEAAAAdACUAAAAAAAEAAAAdACYAAAAAAAEAAAAcACYAAAAAAAEAAAAbACYAAAAAAAEAAAAbACUAAAAAAAEAAAAaACUAAAAAAAEAAAAaACQAAAAAAAEAAAAZACQAAAAAAAEAAAAYACQAAAAAAAEAAAAXACQAAAAAAAEAAAAWACQAAAAAAAEAAAAZACMAAAAAAAEAAAAaACMAAAAAAAEAAAAaACIAAAAAAAEAAAAbACIAAAAAAAEAAAAbACEAAAAAAAEAAAAcACEAAAAAAAEAAAAdACEAAAAAAAEAAAAdACIAAAAAAAEAAAAeACIAAAAAAAEAAAAlAB4AAAAAAAEAAAAmAB4AAAAAAAEAAAAnAB4AAAAAAAEAAAAoAB0AAAAAAAEAAAAoAB4AAAAAAAEAAAApABwAAAAAAAEAAAApAB0AAAAAAAEAAAApAB4AAAAAAAEAAAApAB8AAAAAAAEAAAAqABsAAAAAAAEAAAAqABwAAAAAAAEAAAAqAB8AAAAAAAEAAAAqACAAAAAAAAEAAAArABsAAAAAAAEAAAArACAAAAAAAAEAAAAsABsAAAAAAAEAAAAsABwAAAAAAAEAAAAsAB8AAAAAAAEAAAAsACAAAAAAAAEAAAAtABwAAAAAAAEAAAAtAB0AAAAAAAEAAAAtAB4AAAAAAAEAAAAtAB8AAAAAAAEAAAAuAB0AAAAAAAEAAAAuAB4AAAAAAAEAAAAvAB4AAAAAAAEAAAAwAB4AAAAAAAEAAAAxAB4AAAAAAAEAAAA0ACQAAAAAAAEAAAA1ACQAAAAAAAEAAAA2ACQAAAAAAAEAAAA3ACMAAAAAAAEAAAA3ACQAAAAAAAEAAAA4ACIAAAAAAAEAAAA4ACMAAAAAAAEAAAA4ACQAAAAAAAEAAAA4ACUAAAAAAAEAAAA5ACEAAAAAAAEAAAA5ACIAAAAAAAEAAAA5ACUAAAAAAAEAAAA5ACYAAAAAAAEAAAA6ACEAAAAAAAEAAAA6ACYAAAAAAAEAAAA7ACEAAAAAAAEAAAA7ACIAAAAAAAEAAAA7ACUAAAAAAAEAAAA7ACYAAAAAAAEAAAA8ACIAAAAAAAEAAAA8ACMAAAAAAAEAAAA8ACQAAAAAAAEAAAA8ACUAAAAAAAEAAAA9ACMAAAAAAAEAAAA9ACQAAAAAAAEAAAA+ACQAAAAAAAEAAAA/ACQAAAAAAAEAAABAACQAAAAAAAEAAAAlACoAAAAAAAEAAAAmACoAAAAAAAEAAAAnACoAAAAAAAEAAAAoACkAAAAAAAEAAAAoACoAAAAAAAEAAAApACgAAAAAAAEAAAApACkAAAAAAAEAAAApACoAAAAAAAEAAAApACsAAAAAAAEAAAAqACcAAAAAAAEAAAAqACgAAAAAAAEAAAAqACsAAAAAAAEAAAAqACwAAAAAAAEAAAArACcAAAAAAAEAAAArACwAAAAAAAEAAAAsACcAAAAAAAEAAAAsACgAAAAAAAEAAAAsACsAAAAAAAEAAAAsACwAAAAAAAEAAAAtACgAAAAAAAEAAAAtACkAAAAAAAEAAAAtACoAAAAAAAEAAAAtACsAAAAAAAEAAAAuACkAAAAAAAEAAAAuACoAAAAAAAEAAAAvACoAAAAAAAEAAAAwACoAAAAAAAEAAAAxACoAAAAAAAEAAAAjACQAAAAAAAEAAAAkACQAAAAAAAEAAAAlACQAAAAAAAEAAAAmACMAAAAAAAEAAAAmACQAAAAAAAEAAAAnACIAAAAAAAEAAAAnACMAAAAAAAEAAAAnACQAAAAAAAEAAAAnACUAAAAAAAEAAAAoACEAAAAAAAEAAAAoACIAAAAAAAEAAAAoACUAAAAAAAEAAAAoACYAAAAAAAEAAAApACEAAAAAAAEAAAApACYAAAAAAAEAAAAvACQAAAAAAAEAAAAuACEAAAAAAAEAAAAuACIAAAAAAAEAAAAuACUAAAAAAAEAAAAuACYAAAAAAAEAAAAvACIAAAAAAAEAAAAvACMAAAAAAAEAAAAvACUAAAAAAAEAAAAwACMAAAAAAAEAAAAwACQAAAAAAAEAAAAxACQAAAAAAAEAAAAyACQAAAAAAAEAAAAzACQAAAAAAAEAAAAqACEAAAAAAAEAAAArACEAAAAAAAEAAAAsACEAAAAAAAEAAAAtACEAAAAAAAEAAAAtACYAAAAAAAEAAAAsACYAAAAAAAEAAAArACYAAAAAAAEAAAAqACYAAAAAAAEAAAAqACMAAAAAAAEAAAArACQAAAAAAAEAAAAsACQAAAAAAAEAAAAsACMAAAAAAAEAAAArACMAAAAAAAEAAAAqACQAAAAAAAEAAAAAAAcAAAAAAAEAAAAAAAYAAAAAAAEAAAAAAAUAAAAAAAEAAAAAAAQAAAAAAAEAAAAAAAMAAAAAAAEAAAD//wMAAAAAAAEAAAD//wQAAAAAAAEAAAABAAMAAAAAAAEAAAABAAIAAAAAAAEAAAAAAAIAAAAAAAEAAAD//wIAAAAAAAEAAAD+/wIAAAAAAAEAAAD+/wEAAAAAAAEAAAD+/wAAAAAAAAEAAAD//wAAAAAAAAEAAAD/////AAAAAAEAAAAAAP//AAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAEAAAAAAAEAAAACAAIAAAAAAAEAAAACAAEAAAAAAAEAAAACAAAAAAAAAAEAAAACAP//AAAAAAEAAAABAP//AAAAAAEAAAAAAAEAAAAAAAEAAAD+////AAAAAAEAAAD//wEAAAAAAAEAAAAYAP7/AAAAAAEAAAAYAP//AAAAAAEAAAAYAAAAAAAAAAEAAAAYAAEAAAAAAAEAAAAYAAIAAAAAAAEAAAAZAAEAAAAAAAEAAAAZAAAAAAAAAAEAAAAZAAIAAAAAAAEAAAAXAAIAAAAAAAEAAAAXAAMAAAAAAAEAAAAXAAQAAAAAAAEAAAAWAAQAAAAAAAEAAAAVAAQAAAAAAAEAAAAUAAQAAAAAAAEAAAATAAQAAAAAAAEAAAAYAAMAAAAAAAEAAAAWAAMAAAAAAAEAAAAWAPX/AAAAAAEAAAAWAPT/AAAAAAEAAAAWAPP/AAAAAAEAAAAWAPL/AAAAAAEAAAAWAPH/AAAAAAEAAAAVAPL/AAAAAAEAAAAXAPL/AAAAAAEAAAAYAPL/AAAAAAEAAAAZAPL/AAAAAAEAAAAYAPP/AAAAAAEAAAAXAPP/AAAAAAEAAAAXAPT/AAAAAAEAAAAVAPH/AAAAAAEAAAAUAPH/AAAAAAEAAAATAPH/AAAAAAEAAAASAPH/AAAAAAEAAAARAPH/AAAAAAEAAAAWAPD/AAAAAAEAAAAVAPD/AAAAAAEAAAAWAO//AAAAAAEAAAAXAO//AAAAAAEAAAAXAO7/AAAAAAEAAAAYAO7/AAAAAAEAAAAZAO7/AAAAAAEAAAAaAO7/AAAAAAEAAAAaAO//AAAAAAEAAAAbAO//AAAAAAEAAAAcAO//AAAAAAEAAAAdAO//AAAAAAEAAAAeAO//AAAAAAEAAAAfAO//AAAAAAEAAAAgAO//AAAAAAEAAAAdAPD/AAAAAAEAAAAcAPD/AAAAAAEAAAAbAPD/AAAAAAEAAAAbAPH/AAAAAAEAAAAaAPH/AAAAAAEAAAAZAPH/AAAAAAEAAAAYAPH/AAAAAAEAAAAXAPH/AAAAAAEAAAAXAPD/AAAAAAEAAAAYAPD/AAAAAAEAAAAZAPD/AAAAAAEAAAAaAPD/AAAAAAEAAAAYAO//AAAAAAEAAAAZAO//AAAAAAEAAAA=")
tile_set = ExtResource("13_3vpbd")
script = ExtResource("14_8vxfw")
ground_material = 6
metadata/_custom_type_script = "uid://pksfkcvcsgx7"

[node name="ghost_hands" type="TileMapLayer" parent="world"]
visible = false
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAgABwAAAAHAAIAAAAgAB0AAAAHAAMAAAAgAB4AAAAHAAQAAAAgAB8AAAAHAAUAAAAgABsAAAAGAAAAAAAwABUAAAAGAAAAAAAwABYAAAAHAAIAAAAwABcAAAAHAAMAAAAwABgAAAAHAAQAAAAwABkAAAAHAAUAAAAxABcAAAAGAAAAAAAxABgAAAAHAAIAAAAxABkAAAAHAAMAAAAxABoAAAAHAAQAAAAxABsAAAAHAAUAAAA0ABMAAAAGAAAAABA0ABQAAAAHAAIAABA0ABUAAAAHAAMAABA0ABYAAAAHAAQAABA0ABcAAAAHAAUAABA3ABoAAAAGAAAAABA3ABsAAAAHAAIAABA3ABwAAAAHAAMAABA3AB0AAAAHAAQAABA3AB4AAAAHAAUAABAdAA8AAAAGAAAAAAAdABAAAAAHAAIAAAAdABEAAAAHAAMAAAAdABIAAAAHAAQAAAAdABMAAAAHAAUAAAAaABYAAAAGAAAAAAAaABcAAAAHAAIAAAAaABgAAAAHAAMAAAAaABkAAAAHAAQAAAAaABoAAAAHAAUAAAARAB4AAAAGAAAAAAARAB8AAAAHAAIAAAARACAAAAAHAAMAAAARACEAAAAHAAQAAAARACIAAAAHAAUAAAAkAAQAAAAGAAAAABAkAAUAAAAHAAIAABAkAAYAAAAHAAMAABAkAAcAAAAHAAQAABAkAAgAAAAHAAUAABAUABAAAAAGAAAAABAUABEAAAAHAAIAABAUABIAAAAHAAMAABAUABMAAAAHAAQAABAUABQAAAAHAAUAABADABwAAAAGAAAAAAADAB0AAAAHAAIAAAADAB4AAAAHAAMAAAADAB8AAAAHAAQAAAADACAAAAAHAAUAAAD6/xQAAAAGAAAAAAD6/xUAAAAHAAIAAAD6/xYAAAAHAAMAAAD6/xcAAAAHAAQAAAD6/xgAAAAHAAUAAAD8/xkAAAAGAAAAABD8/xoAAAAHAAIAABD8/xsAAAAHAAMAABD8/xwAAAAHAAQAABD8/x0AAAAHAAUAABD9/xIAAAAGAAAAABD9/xMAAAAHAAIAABD9/xQAAAAHAAMAABD9/xUAAAAHAAQAABD9/xYAAAAHAAUAABD5/w4AAAAGAAAAAAD5/w8AAAAHAAIAAAD5/xAAAAAHAAMAAAD5/xEAAAAHAAQAAAD5/xIAAAAHAAUAAAAIAAoAAAAGAAAAABAIAAsAAAAHAAIAABAIAAwAAAAHAAMAABAIAA0AAAAHAAQAABAIAA4AAAAHAAUAABANABEAAAAGAAAAAAANABIAAAAHAAIAAAANABMAAAAHAAMAAAANABQAAAAHAAQAAAANABUAAAAHAAUAAADx/wAAAAAGAAAAABDx/wEAAAAHAAIAABDx/wIAAAAHAAMAABDx/wMAAAAHAAQAABDx/wQAAAAHAAUAABDv/wMAAAAGAAAAABDv/wQAAAAHAAIAABDv/wUAAAAHAAMAABDv/wYAAAAHAAQAABDv/wcAAAAHAAUAABDq/xEAAAAGAAAAAADq/xIAAAAHAAIAAADq/xMAAAAHAAMAAADq/xQAAAAHAAQAAADq/xUAAAAHAAUAAADr/xQAAAAGAAAAABDr/xUAAAAHAAIAABDr/xYAAAAHAAMAABDr/xcAAAAHAAQAABDr/xgAAAAHAAUAABDv/x0AAAAGAAAAAADv/x4AAAAHAAIAAADv/x8AAAAHAAMAAADv/yAAAAAHAAQAAADv/yEAAAAHAAUAAAAQAAYAAAAGAAAAABAQAAcAAAAHAAIAABAQAAgAAAAHAAMAABAQAAkAAAAHAAQAABAQAAoAAAAHAAUAABDh/xgAAAAGAAAAABDh/xkAAAAHAAIAABDh/xoAAAAHAAMAABDh/xsAAAAHAAQAABDh/xwAAAAHAAUAABDm/wkAAAAGAAAAABDm/woAAAAHAAIAABDm/wsAAAAHAAMAABDm/wwAAAAHAAQAABDm/w0AAAAHAAUAABDh/wUAAAAGAAAAABDh/wYAAAAHAAIAABDh/wcAAAAHAAMAABDh/wgAAAAHAAQAABDh/wkAAAAHAAUAABAdAP//AAAGAAAAAAAdAAAAAAAHAAIAAAAdAAEAAAAHAAMAAAAdAAIAAAAHAAQAAAAdAAMAAAAHAAUAAAA=")
tile_set = ExtResource("9_n1xg1")
collision_enabled = false

[node name="to_eyeball_world" type="Area2D" parent="world" node_paths=PackedStringArray("rect")]
position = Vector2(8, 8)
collision_layer = 2684354560
collision_mask = 2684354560
script = ExtResource("7_gg2wt")
secret = true
area = true
rect = NodePath("rect")
metadata/_custom_type_script = "uid://bxh774473av7t"

[node name="rect" type="CollisionShape2D" parent="world/to_eyeball_world"]
shape = SubResource("RectangleShape2D_3vpbd")
debug_color = Color(0.2, 0, 0.7, 0.2)

[node name="spawn_point" type="Node2D" parent="world/to_eyeball_world" node_paths=PackedStringArray("parent_instead_of_self")]
position = Vector2(0, 16)
script = ExtResource("12_4yua0")
scene_path = "uid://b67q2b5hm6tsu"
connection_id = "colourful_eyes"
parent_instead_of_self = NodePath("..")
metadata/_custom_type_script = "uid://ofyfa3d6ql28"

[node name="sequence_region" type="Node" parent="world/to_eyeball_world" node_paths=PackedStringArray("enter_sequence", "exit_sequence")]
process_mode = 4
script = ExtResource("13_bwsrp")
enter_sequence = NodePath("enter")
exit_sequence = NodePath("exit")
metadata/_custom_type_script = "uid://f4sb25g3gpic"

[node name="enter" type="Node" parent="world/to_eyeball_world/sequence_region" node_paths=PackedStringArray("order", "front", "back")]
script = ExtResource("20_5siph")
order = [NodePath("travel_to")]
front = NodePath("travel_to")
back = NodePath("travel_to")

[node name="travel_to" type="Node" parent="world/to_eyeball_world/sequence_region/enter" node_paths=PackedStringArray("scene_traversal")]
script = ExtResource("15_s5ewf")
scene_traversal = NodePath("traversal")
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="traversal" type="Node" parent="world/to_eyeball_world/sequence_region/enter/travel_to" node_paths=PackedStringArray("spawn_point")]
script = ExtResource("16_v680p")
scene_path = "uid://b67q2b5hm6tsu"
connection_id = "colourful_eyes"
spawn_point = NodePath("../../../../spawn_point")
metadata/_custom_type_script = "uid://dkbhr01xbyr60"

[node name="exit" type="Node" parent="world/to_eyeball_world/sequence_region"]
script = ExtResource("20_5siph")

[node name="medamaude_effect" parent="world" instance=ExtResource("17_bwsrp")]
position = Vector2(696, 560)
collision_layer = 1610612736
collision_mask = 1610612736

[node name="on_interact" parent="world/medamaude_effect" index="0" node_paths=PackedStringArray("order", "front", "back")]
process_mode = 4
order = [NodePath("effect_sequence"), NodePath("screen_flash")]
front = NodePath("effect_sequence")
back = NodePath("screen_flash")

[node name="effect_sequence" parent="world/medamaude_effect/on_interact" index="0" node_paths=PackedStringArray("order", "front", "back", "next")]
order = [NodePath("request_cutscene_start"), NodePath("append_effect"), NodePath("play_sound"), NodePath("notification"), NodePath("set_interactable_inactive"), NodePath("wait_seconds"), NodePath("request_cutscene_end")]
front = NodePath("request_cutscene_start")
back = NodePath("request_cutscene_end")
next = NodePath("../screen_flash")

[node name="append_effect" parent="world/medamaude_effect/on_interact/effect_sequence" index="1"]
effect = ExtResource("18_epmdn")

[node name="notification" parent="world/medamaude_effect/on_interact/effect_sequence" index="3"]
texts = PackedStringArray()

[node name="screen_flash" type="Node" parent="world/medamaude_effect/on_interact" index="1" node_paths=PackedStringArray("order", "front", "back", "prev")]
script = ExtResource("20_5siph")
order = [NodePath("flag_value"), NodePath("show_ghost_hands"), NodePath("request_cutscene_start"), NodePath("flash_red"), NodePath("play_sound"), NodePath("notification"), NodePath("request_cutscene_end")]
front = NodePath("flag_value")
back = NodePath("request_cutscene_end")
prev = NodePath("../effect_sequence")
metadata/_custom_type_script = "uid://c1od80bn28h0l"

[node name="flag_value" type="Node" parent="world/medamaude_effect/on_interact/screen_flash" node_paths=PackedStringArray("node", "next")]
process_mode = 4
script = ExtResource("22_r2b8w")
node = NodePath("../../../../../scene_flag")
property_name = "properties"
property_info = {
"class_name": &"",
"hint": 23,
"hint_string": "4:;0:",
"name": "properties",
"type": 27,
"usage": 6
}
property_value = Dictionary[String, Variant]({
"medamaude_found": false
})
new_value = Dictionary[String, Variant]({
"medamaude_found": true
})
next = NodePath("../show_ghost_hands")
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="show_ghost_hands" type="Node" parent="world/medamaude_effect/on_interact/screen_flash" node_paths=PackedStringArray("prev", "next")]
process_mode = 4
script = ExtResource("18_chr53")
prev = NodePath("../flag_value")
next = NodePath("../request_cutscene_start")
metadata/_custom_type_script = "uid://b2je1meyfnp7s"

[node name="play_music" type="Node" parent="world/medamaude_effect/on_interact/screen_flash/show_ghost_hands"]
script = ExtResource("9_q6f27")
stream = ExtResource("3_qi1ih")
pitch = 0.8
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="make_visible" type="Node" parent="world/medamaude_effect/on_interact/screen_flash/show_ghost_hands" node_paths=PackedStringArray("node")]
process_mode = 4
script = ExtResource("22_r2b8w")
node = NodePath("../../../../../ghost_hands")
property_name = "visible"
property_info = {
"class_name": &"",
"hint": 0,
"hint_string": "",
"name": "visible",
"type": 1,
"usage": 6
}
property_value = false
new_value = true
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="enable_collision" type="Node" parent="world/medamaude_effect/on_interact/screen_flash/show_ghost_hands" node_paths=PackedStringArray("node")]
process_mode = 4
script = ExtResource("22_r2b8w")
node = NodePath("../../../../../ghost_hands")
property_name = "collision_enabled"
property_info = {
"class_name": &"",
"hint": 0,
"hint_string": "",
"name": "collision_enabled",
"type": 1,
"usage": 6
}
property_value = false
new_value = true
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="darken_screen_modulate" type="Node" parent="world/medamaude_effect/on_interact/screen_flash/show_ghost_hands" node_paths=PackedStringArray("node")]
process_mode = 4
script = ExtResource("22_r2b8w")
node = NodePath("../../../../../../camera/marker/camera/overlay_3")
property_name = "color"
property_info = {
"class_name": &"",
"hint": 0,
"hint_string": "",
"name": "color",
"type": 20,
"usage": 6
}
property_value = Color(0.967774, 0.682599, 0.715787, 1)
new_value = Color(0.760746, 0.232616, 0.315769, 1)
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="request_cutscene_start" type="Node" parent="world/medamaude_effect/on_interact/screen_flash" node_paths=PackedStringArray("prev", "next")]
script = ExtResource("18_y6rev")
event_id = "CUTSCENE_START_REQUEST"
prev = NodePath("../show_ghost_hands")
next = NodePath("../flash_red")
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="flash_red" type="Node" parent="world/medamaude_effect/on_interact/screen_flash" node_paths=PackedStringArray("prev", "next")]
script = ExtResource("18_3pj81")
fade_type = 1
fade_shader = SubResource("ShaderMaterial_uoh1u")
fade_colour = Color(1, 0, 0, 1)
wait_til_finished = false
prev = NodePath("../request_cutscene_start")
next = NodePath("../play_sound")
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="play_sound" type="Node" parent="world/medamaude_effect/on_interact/screen_flash" node_paths=PackedStringArray("prev", "next")]
script = ExtResource("20_qvbou")
sound = ExtResource("21_y6rev")
pitch = 0.7
prev = NodePath("../flash_red")
next = NodePath("../notification")
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="notification" type="Node" parent="world/medamaude_effect/on_interact/screen_flash" node_paths=PackedStringArray("prev", "next")]
script = ExtResource("26_uoh1u")
font_colour_override = Color(0.786281, 0.154866, 0.357413, 1)
prev = NodePath("../play_sound")
next = NodePath("../request_cutscene_end")
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="request_cutscene_end" type="Node" parent="world/medamaude_effect/on_interact/screen_flash" node_paths=PackedStringArray("prev")]
script = ExtResource("18_y6rev")
event_id = "CUTSCENE_END_REQUEST"
prev = NodePath("../notification")
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="on_initial" type="Node" parent="." node_paths=PackedStringArray("order", "front", "back")]
script = ExtResource("20_5siph")
order = [NodePath("apply_panorama"), NodePath("if_medamaude_collected"), NodePath("else")]
front = NodePath("apply_panorama")
back = NodePath("else")

[node name="apply_panorama" type="SubViewport" parent="on_initial" node_paths=PackedStringArray("next")]
own_world_3d = true
transparent_bg = true
handle_input_locally = false
canvas_item_default_texture_filter = 0
canvas_item_default_texture_repeat = 2
size = Vector2i(480, 270)
size_2d_override = Vector2i(480, 270)
render_target_update_mode = 4
script = ExtResource("13_xm48m")
next = NodePath("../if_medamaude_collected")

[node name="face" type="TextureRect" parent="on_initial/apply_panorama"]
process_mode = 4
z_index = -25
material = SubResource("ShaderMaterial_ndxk6")
custom_minimum_size = Vector2(480, 270)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 395.305
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("6_hdfwf")
expand_mode = 3
stretch_mode = 6

[node name="if_medamaude_collected" type="Node" parent="on_initial" node_paths=PackedStringArray("input_objects", "else_conditional", "order", "front", "back", "next")]
script = ExtResource("32_l7mvp")
expression = "flag.properties[\"medamaude_found\"]"
input_objects = {
"flag": NodePath("../../scene_flag")
}
else_conditional = NodePath("../else")
order = [NodePath("call_scene_event")]
front = NodePath("call_scene_event")
back = NodePath("call_scene_event")
custom_linked_pointers = true
next = NodePath("../else")
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="call_scene_event" type="Node" parent="on_initial/if_medamaude_collected" node_paths=PackedStringArray("event")]
script = ExtResource("33_k1x66")
event = NodePath("../../../world/medamaude_effect/on_interact/screen_flash/show_ghost_hands")
metadata/_custom_type_script = "uid://0v2nidb8jsha"

[node name="else" type="Node" parent="on_initial" node_paths=PackedStringArray("order", "front", "back", "prev")]
script = ExtResource("20_5siph")
order = [NodePath("BGM")]
front = NodePath("BGM")
back = NodePath("BGM")
skip = true
prev = NodePath("../if_medamaude_collected")
metadata/_custom_type_script = "uid://c1od80bn28h0l"

[node name="BGM" type="Node" parent="on_initial/else"]
script = ExtResource("9_q6f27")
stream = ExtResource("3_qi1ih")

[node name="on_free" type="Node" parent="."]
script = ExtResource("20_5siph")

[node name="scene_flag" type="Node" parent="." node_paths=PackedStringArray("properties_saver")]
script = ExtResource("34_k1x66")
properties = Dictionary[String, Variant]({
"medamaude_found": false
})
properties_saver = NodePath("save_properties")
metadata/_custom_type_script = "uid://clajyplvoricf"

[node name="save_properties" type="Node" parent="scene_flag"]
script = ExtResource("35_0chjm")
properties = PackedStringArray("properties")

[editable path="camera"]
[editable path="world/medamaude_effect"]
