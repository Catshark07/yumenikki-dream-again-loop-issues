[gd_scene load_steps=8 format=3 uid="uid://blgkyj1ogaecl"]

[ext_resource type="Script" uid="uid://ddoc1s56tjpbr" path="res://src/systems/utils/seamless_detector_v2.gd" id="1_t5ygt"]
[ext_resource type="Script" uid="uid://4dkyll6fxqod" path="res://src/systems/region/region.gd" id="2_m7xc5"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m7xc5"]
size = Vector2(480, 256)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3xc3k"]
size = Vector2(480, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x4sw1"]
size = Vector2(480, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pjes7"]
size = Vector2(16, 256)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tonw3"]
size = Vector2(16, 256)

[node name="seamless_detector_v2" type="Node2D" node_paths=PackedStringArray("loop_region", "world_render")]
script = ExtResource("1_t5ygt")
loop_region = NodePath("loop_region")
world_render = NodePath("world_render")

[node name="world_render" type="SubViewport" parent="."]
size = Vector2i(480, 256)

[node name="loop_renders" type="Node2D" parent="."]
z_index = -1

[node name="loop_region" type="Area2D" parent="." node_paths=PackedStringArray("rect")]
collision_layer = 1073741824
collision_mask = 1073741824
script = ExtResource("2_m7xc5")
rect = NodePath("rect")
presence_detect = true

[node name="rect" type="CollisionShape2D" parent="loop_region"]
position = Vector2(240, 128)
shape = SubResource("RectangleShape2D_m7xc5")
debug_color = Color(0.2, 0, 0.7, 0.2)

[node name="up_coll" type="StaticBody2D" parent="."]
position = Vector2(240, 264)
collision_mask = 2147483652

[node name="square" type="CollisionShape2D" parent="up_coll"]
shape = SubResource("RectangleShape2D_3xc3k")
debug_color = Color(0.596078, 0.596078, 0.596078, 0.403922)

[node name="down_coll" type="StaticBody2D" parent="."]
position = Vector2(240, -8)
collision_mask = 2147483652

[node name="square" type="CollisionShape2D" parent="down_coll"]
shape = SubResource("RectangleShape2D_x4sw1")
debug_color = Color(0.596078, 0.596078, 0.596078, 0.403922)

[node name="right_coll" type="StaticBody2D" parent="."]
position = Vector2(488, 128)
collision_mask = 2147483652

[node name="square" type="CollisionShape2D" parent="right_coll"]
shape = SubResource("RectangleShape2D_pjes7")
debug_color = Color(0.596078, 0.596078, 0.596078, 0.403922)

[node name="left_coll" type="StaticBody2D" parent="."]
position = Vector2(-8, 128)
collision_mask = 2147483652

[node name="square" type="CollisionShape2D" parent="left_coll"]
shape = SubResource("RectangleShape2D_tonw3")
debug_color = Color(0.596078, 0.596078, 0.596078, 0.403922)
