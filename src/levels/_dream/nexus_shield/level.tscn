[gd_scene load_steps=11 format=4 uid="uid://d0sdg4uow1xul"]

[ext_resource type="Script" uid="uid://b1ofr4umso5jf" path="res://src/systems/scenes/game/game_scene.gd" id="1_ku5ii"]
[ext_resource type="TileSet" uid="uid://2yegmxnc57fl" path="res://src/levels/__ignore/tile_set/world_tile_sets/shieldfolk.tres" id="2_oi6n0"]
[ext_resource type="PackedScene" uid="uid://ryhx8o46er7i" path="res://src/player/2D/madotsuki/madotsuki.tscn" id="2_yqpiu"]
[ext_resource type="PackedScene" uid="uid://c8bnpo28a373g" path="res://src/systems/camera/camera.tscn" id="6_2lxk3"]
[ext_resource type="Script" uid="uid://jf85vmwx4pj" path="res://src/player/2D/scripts/pl_variables.gd" id="6_q5n6k"]
[ext_resource type="PackedScene" uid="uid://bku0eqinjwowa" path="res://src/levels/__ignore/door.tscn" id="7_8rl4g"]
[ext_resource type="Texture2D" uid="uid://ub6vwdilgxwn" path="res://src/levels/__ignore/doors/door_shield-folk.png" id="8_5luxr"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_souvx"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ykloa"]

[sub_resource type="Resource" id="Resource_8rl4g"]
resource_local_to_scene = true
resource_name = "pl_variables"
script = ExtResource("6_q5n6k")

[node name="shield-folk_world" type="Node"]
script = ExtResource("1_ku5ii")
load_transition = SubResource("ShaderMaterial_souvx")
unload_transition = SubResource("ShaderMaterial_ykloa")
metadata/_custom_type_script = "uid://b1ofr4umso5jf"

[node name="camera" parent="." instance=ExtResource("6_2lxk3")]

[node name="y_order" type="Node2D" parent="."]
y_sort_enabled = true

[node name="door_interactable" parent="y_order" instance=ExtResource("7_8rl4g")]
position = Vector2(544, 192)

[node name="on_interact" parent="y_order/door_interactable" index="0" node_paths=PackedStringArray("order", "front", "back")]
order = [NodePath("request_cutscene_start"), NodePath("play_sound"), NodePath("wait"), NodePath("travel_to_scene"), NodePath("request_cutscene_end")]
front = NodePath("request_cutscene_start")
back = NodePath("request_cutscene_end")

[node name="request_cutscene_start" parent="y_order/door_interactable/on_interact" index="0" node_paths=PackedStringArray("next")]
next = NodePath("../play_sound")

[node name="play_sound" parent="y_order/door_interactable/on_interact" index="1" node_paths=PackedStringArray("prev", "next")]
prev = NodePath("../request_cutscene_start")
next = NodePath("../wait")

[node name="wait" parent="y_order/door_interactable/on_interact" index="2" node_paths=PackedStringArray("prev", "next")]
prev = NodePath("../play_sound")
next = NodePath("../travel_to_scene")

[node name="travel_to_scene" parent="y_order/door_interactable/on_interact" index="3" node_paths=PackedStringArray("prev", "next")]
prev = NodePath("../wait")
next = NodePath("../request_cutscene_end")

[node name="request_cutscene_end" parent="y_order/door_interactable/on_interact" index="4" node_paths=PackedStringArray("prev")]
prev = NodePath("../travel_to_scene")

[node name="renderer" parent="y_order/door_interactable" index="2"]
texture = ExtResource("8_5luxr")
hframes = 1
frame_h_count = 1

[node name="Madotsuki" parent="y_order" instance=ExtResource("2_yqpiu")]
position = Vector2(468, 320)
values = SubResource("Resource_8rl4g")

[node name="folk" type="TileMapLayer" parent="y_order"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAARAAwAAAADAAIAABACAAYAAAAAAAIAAAAEAAgAAAAJAAIAAAAzAB4AAAAAAAIAAABEAAsAAAAGAAIAAAANAC4AAAAJAAIAAAAPAC8AAAAJAAIAAAATAC4AAAAJAAIAABAVAC0AAAAGAAIAABAWAC8AAAAAAAIAABAbAC4AAAADAAIAAAAeAC4AAAADAAIAAAAZADAAAAAJAAIAAABYAAUAAAAAAAIAABBgABsAAAADAAIAABBfAC4AAAAAAAIAABBTAEAAAAAJAAIAABBQAEAAAAADAAIAAABTAEMAAAAGAAIAABAoAEAAAAADAAIAAAA3AEYAAAAAAAIAAAA6AEYAAAAGAAIAABBSAFMAAAAGAAIAABBUAFIAAAAAAAIAABBXAFMAAAADAAIAABBVAFUAAAAGAAIAABBbAFAAAAAAAAIAABBbAFQAAAAAAAIAABBdAFIAAAAJAAIAABBgAFoAAAAGAAIAABBfAFcAAAAGAAIAABBhAFQAAAAGAAIAABBhAF8AAAAGAAIAABBcAGEAAAAAAAIAABBcAF0AAAAGAAIAABBeAF4AAAAJAAIAABBXAGAAAAAGAAIAABBYAF0AAAAJAAIAABBUAF4AAAAAAAIAABBUAGAAAAAGAAIAABBQAF4AAAADAAIAABALAEgAAAADAAIAABArAF4AAAAAAAIAAABAADEAAAADAAIAABAfAE4AAAAJAAIAABAIABsAAAAJAAIAAABNADcAAAAJAAIAABBQADcAAAAJAAIAABBTADcAAAAJAAIAABBWADcAAAAAAAIAABBZADcAAAAJAAIAABBcADcAAAAAAAIAABBfADcAAAADAAIAABBtACcAAAAGAAIAAABqACcAAAAJAAIAAABnACcAAAAAAAIAAABkACcAAAAAAAIAAABbACcAAAAJAAIAAABdACUAAAAAAAIAABBjACUAAAAGAAIAABBmACUAAAADAAIAABBpACUAAAADAAIAABBwACMAAAAJAAIAAABqACMAAAAJAAIAAABnACMAAAADAAIAAABkACMAAAAAAAIAAABhACMAAAAGAAIAAABeACMAAAADAAIAAABgACEAAAAAAAIAABBjACEAAAADAAIAABBmACEAAAAAAAIAABBpACEAAAAJAAIAABBsACEAAAAJAAIAABBvACEAAAAJAAIAABByACEAAAAGAAIAABB5ACcAAAAJAAIAAAB2ACcAAAAGAAIAAABzACcAAAADAAIAAABwACcAAAAAAAIAAAB7ACUAAAAAAAIAABB1ACUAAAAGAAIAABByACUAAAAJAAIAABB8ACMAAAAJAAIAAAB2ACMAAAADAAIAAABzACMAAAAAAAIAAAB+ACEAAAAAAAIAABB7ACEAAAADAAIAABB4ACEAAAAGAAIAABB1ACEAAAAJAAIAABA=")
tile_set = ExtResource("2_oi6n0")

[node name="blob_static" type="TileMapLayer" parent="y_order"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAJABMAAAAAAAEAABALABUAAAAAAAAAAAAVAAQAAAAAAAEAAAAWAAYAAAAAAAEAABBJABcAAAAAAAEAABA4ABIAAAAAAAEAABAzAAwAAAAAAAEAAAAwAC0AAAAAAAEAAAAjACQAAAAAAAEAAABcAAwAAAAAAAEAABBaAC0AAAAAAAEAABASADsAAAAAAAEAABARADsAAAAAAAEAABAKADUAAAAAAAEAABA6AE8AAAAAAAEAAAAvAEwAAAAAAAEAAABMAEkAAAAAAAEAAABgAD4AAAAAAAEAAABpACkAAAAAAAEAAABpACoAAAAAAAEAAABrACoAAAAAAAEAAABsACwAAAAAAAEAAAB9ACcAAAAAAAEAAAB+ACcAAAAAAAEAAAB/ACYAAAAAAAEAAAB4ABsAAAAAAAEAAAB0ABwAAAAAAAEAAABaACAAAAAAAAEAAABaACMAAAAAAAEAAABZACMAAAAAAAEAAABeACcAAAAAAAEAAABfACYAAAAAAAEAAABgACYAAAAAAAEAAABiACcAAAAAAAEAAABuACQAAAAAAAEAAAB4ACQAAAAAAAEAAABnABoAAAAAAAEAABB4ADgAAAAAAAEAABA0ADgAAAAAAAEAABBEACIAAAAAAAEAABAVAF4AAAAAAAEAABASAFgAAAAAAAEAABATAFgAAAAAAAEAABBPAFIAAAAAAAEAAABOAFMAAAAAAAEAAABZAFMAAAAAAAEAAABYAFEAAAAAAAEAAABeAFQAAAAAAAEAAABiAFwAAAAAAAEAAABaAF8AAAAAAAEAAABZAGEAAAAAAAEAAABLAF8AAAAAAAEAAABKAF0AAAAAAAAAAABRAGEAAAAAAAAAAABiAGIAAAAAAAAAAABlAFkAAAAAAAAAAABVAE4AAAAAAAAAAAA8AE0AAAAAAAAAAAAuAE0AAAAAAAAAAAAsAEwAAAAAAAAAAAArAE0AAAAAAAAAAAAqAE0AAAAAAAAAAAATAFoAAAAAAAAAAAALAD8AAAAAAAAAAABfACkAAAAAAAAAAABYACYAAAAAAAAAAABXACMAAAAAAAAAAABsABkAAAAAAAAAAABtABkAAAAAAAAAAABtABgAAAAAAAAAAABsABcAAAAAAAAAAABsABYAAAAAAAAAAABsABUAAAAAAAAAAABrABUAAAAAAAAAAABrABYAAAAAAAAAAAA9AB8AAAAAAAAAAAAoAB4AAAAAAAAAAAAgABwAAAAAAAAAAAAhABoAAAAAAAAAAAA5AAgAAAAAAAAAAAA6AAgAAAAAAAAAAABLAAUAAAAAAAAAAABPAA8AAAAAAAAAAAASACEAAAAAAAAAAAATACEAAAAAAAAAAAAeACcAAAAAAAAAAAAnADUAAAAAAAAAAAAnADYAAAAAAAAAAABGACkAAAAAAAAAAABHACkAAAAAAAAAAAA=")
tile_set = ExtResource("2_oi6n0")

[node name="gates" type="TileMapLayer" parent="y_order"]
y_sort_enabled = true
tile_set = ExtResource("2_oi6n0")

[node name="seamless_detector" parent="."]
_import_path = NodePath("")
unique_name_in_owner = false
process_mode = 0
process_priority = 0
process_physics_priority = 0
process_thread_group = 0
physics_interpolation_mode = 0
auto_translate_mode = 0
editor_description = ""
position = Vector2(-80, -96)
expansion = Vector2i(90, 80)
boundary_size = Vector2i(1920, 1536)
script = null

[editable path="camera"]
[editable path="y_order/door_interactable"]
