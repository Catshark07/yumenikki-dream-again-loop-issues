[gd_scene load_steps=12 format=4 uid="uid://bws8hd15u3wh3"]

[ext_resource type="Script" uid="uid://b1ofr4umso5jf" path="res://src/systems/scenes/game/game_scene.gd" id="1_g8mbi"]
[ext_resource type="Script" uid="uid://desxt7tbq37sf" path="res://src/systems/world_loop/loop_region.gd" id="2_a53fk"]
[ext_resource type="PackedScene" uid="uid://c8bnpo28a373g" path="res://src/systems/camera/camera.tscn" id="2_ngmha"]
[ext_resource type="Script" uid="uid://ofyfa3d6ql28" path="res://src/systems/components/independent/spawn_point.gd" id="3_btf84"]
[ext_resource type="Script" uid="uid://c1od80bn28h0l" path="res://src/systems/sequencing/sequence_interface.gd" id="4_a53fk"]
[ext_resource type="PackedScene" uid="uid://ryhx8o46er7i" path="res://src/player/2D/madotsuki/madotsuki.tscn" id="7_3oc4g"]
[ext_resource type="TileSet" uid="uid://dco2oteu0g2q1" path="res://src/levels/__ignore/tile_set/world_tile_sets/forest.tres" id="8_3oc4g"]
[ext_resource type="Script" uid="uid://pksfkcvcsgx7" path="res://src/levels/__ignore/tilemap_footstep_setup.gd" id="8_5v821"]
[ext_resource type="Script" uid="uid://jf85vmwx4pj" path="res://src/player/2D/scripts/pl_variables.gd" id="8_gwiw2"]
[ext_resource type="TileSet" uid="uid://dyssxbp7xitvm" path="res://src/levels/__ignore/tile_set/_footstep_material.tres" id="9_5v821"]

[sub_resource type="Resource" id="Resource_5v821"]
resource_local_to_scene = true
resource_name = "pl_variables"
script = ExtResource("8_gwiw2")

[node name="GameScene" type="Node" node_paths=PackedStringArray("seq_initial", "seq_free")]
script = ExtResource("1_g8mbi")
seq_initial = NodePath("on_initial")
seq_free = NodePath("on_free")
metadata/_custom_type_script = "uid://b1ofr4umso5jf"

[node name="camera_handler" parent="." node_paths=PackedStringArray("initial_target") instance=ExtResource("2_ngmha")]
initial_target = NodePath("../madotsuki")

[node name="LoopRegion" type="Node2D" parent="."]
script = ExtResource("2_a53fk")
metadata/_custom_type_script = "uid://desxt7tbq37sf"

[node name="SpawnPoint" type="Node2D" parent="." node_paths=PackedStringArray("parent_instead_of_self")]
script = ExtResource("3_btf84")
parent_instead_of_self = NodePath(".")
metadata/_custom_type_script = "uid://ofyfa3d6ql28"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]

[node name="on_initial" type="Node" parent="."]
script = ExtResource("4_a53fk")
skip_invalid_events = true
skip = true

[node name="on_free" type="Node" parent="."]
script = ExtResource("4_a53fk")
skip_invalid_events = true

[node name="madotsuki" parent="." instance=ExtResource("7_3oc4g")]
values = SubResource("Resource_5v821")

[node name="footstep_manager" parent="madotsuki/sb_components" index="5" node_paths=PackedStringArray("receiver")]
receiver = NodePath("..")

[node name="pl_loop" parent="madotsuki" index="11" node_paths=PackedStringArray("region")]
region = NodePath("../../LoopRegion")
world_size = Vector2(100, 100)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
z_index = -1
tile_map_data = PackedByteArray("AAD9//3/AAABAAcAAAD9//7/AAABAAcAAAD9////AAABAAcAAAD9/wAAAAABAAcAAAD9/wEAAAABAAcAAAD9/wIAAAABAAcAAAD+//3/AAABAAcAAAD+//7/AAABAAcAAAD+////AAABAAcAAAD+/wAAAAABAAcAAAD+/wEAAAABAAcAAAD+/wIAAAABAAcAAAD///3/AAABAAcAAAD///7/AAABAAcAAAD/////AAABAAcAAAD//wAAAAABAAcAAAD//wEAAAABAAcAAAD//wIAAAABAAcAAAAAAP3/AAABAAcAAAAAAP7/AAABAAcAAAAAAP//AAABAAcAAAAAAAAAAAABAAcAAAAAAAEAAAABAAcAAAAAAAIAAAABAAcAAAABAP3/AAABAAcAAAABAP7/AAABAAcAAAABAP//AAABAAcAAAABAAAAAAABAAcAAAABAAEAAAABAAcAAAABAAIAAAABAAcAAAACAP3/AAABAAcAAAACAP7/AAABAAcAAAACAP//AAABAAcAAAACAAAAAAABAAcAAAACAAEAAAABAAcAAAACAAIAAAABAAcAAAADAP7/AAACAAcAAAADAP//AAACAAcAAAADAAAAAAACAAcAAAADAAEAAAACAAcAAAADAAIAAAACAAcAAAADAP3/AAACAAcAAAADAPz/AAACAAYAAAADAAMAAAACAAYAAFD8/wMAAAACAAYAADD8//z/AAACAAYAAGD9//z/AAABAAYAAAD+//z/AAABAAYAAAD///z/AAABAAYAAAAAAPz/AAABAAYAAAABAPz/AAABAAYAAAACAPz/AAABAAYAAAD8//3/AAACAAcAABD8//7/AAACAAcAABD8////AAACAAcAABD8/wAAAAACAAcAABD8/wEAAAACAAcAABD8/wIAAAACAAcAABD9/wMAAAABAAYAACD+/wMAAAABAAYAACD//wMAAAABAAYAACAAAAMAAAABAAYAACABAAMAAAABAAYAACACAAMAAAABAAYAACA=")
tile_set = ExtResource("8_3oc4g")

[node name="FootstepTileMap" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD9//3/AAAAAAEAAAD9//7/AAAAAAEAAAD9////AAAAAAEAAAD9/wAAAAAAAAEAAAD9/wEAAAAAAAEAAAD9/wIAAAAAAAEAAAD+//3/AAAAAAEAAAD+//7/AAAAAAEAAAD+////AAAAAAEAAAD+/wAAAAAAAAEAAAD+/wEAAAAAAAEAAAD+/wIAAAAAAAEAAAD///3/AAAAAAEAAAD///7/AAAAAAEAAAD/////AAAAAAEAAAD//wAAAAAAAAEAAAD//wEAAAAAAAEAAAD//wIAAAAAAAEAAAAAAP3/AAAAAAEAAAAAAP7/AAAAAAEAAAAAAP//AAAAAAEAAAAAAAAAAAAAAAEAAAAAAAEAAAAAAAEAAAAAAAIAAAAAAAEAAAABAP3/AAAAAAEAAAABAP7/AAAAAAEAAAABAP//AAAAAAEAAAABAAAAAAAAAAEAAAABAAEAAAAAAAEAAAABAAIAAAAAAAEAAAACAP3/AAAAAAEAAAACAP7/AAAAAAEAAAACAP//AAAAAAEAAAACAAAAAAAAAAEAAAACAAEAAAAAAAEAAAACAAIAAAAAAAEAAAA=")
tile_set = ExtResource("9_5v821")
script = ExtResource("8_5v821")
metadata/_custom_type_script = "uid://pksfkcvcsgx7"

[editable path="madotsuki"]
